<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>更新日志 - YouTube双语字幕翻译助手</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Microsoft YaHei', sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 40px 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 40px;
            border-radius: 16px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        h1 {
            color: #667eea;
            margin-bottom: 30px;
            font-size: 32px;
        }

        .version {
            margin-bottom: 40px;
            padding-bottom: 30px;
            border-bottom: 2px solid #e5e7eb;
        }

        .version:last-of-type {
            border-bottom: none;
        }

        .version-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }

        .version-number {
            font-size: 24px;
            font-weight: bold;
            color: #374151;
        }

        .version-date {
            color: #6b7280;
            font-size: 14px;
        }

        .badge {
            background: #667eea;
            color: white;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
        }

        .badge.latest {
            background: #10b981;
        }

        h3 {
            color: #4b5563;
            margin-top: 20px;
            margin-bottom: 10px;
            font-size: 18px;
        }

        ul {
            margin-bottom: 15px;
            padding-left: 30px;
        }

        li {
            margin-bottom: 8px;
            color: #4b5563;
        }

        .back-link {
            display: inline-block;
            margin-bottom: 20px;
            color: #667eea;
            font-weight: 500;
            text-decoration: none;
        }

        .back-link:hover {
            text-decoration: underline;
        }

        code {
            background: #f3f4f6;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
        }

        .footer {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 2px solid #e5e7eb;
            text-align: center;
            color: #6b7280;
            font-size: 14px;
        }
    </style>
</head>

<body>
    <div class="language-switcher">
        <a href="changelog-zh.html" class="active">中文</a> | <a href="changelog.html">English</a>
    </div>

    <div class="container">
        <a href="index-zh.html" class="back-link">← 返回首页</a>

        <h1>📝 更新日志</h1>

        <div class="version">
            <div class="version-header">
                <span class="version-number">v1.4.0</span>
                <span class="badge latest">最新版本</span>
                <span class="version-date">2026年1月11日</span>
            </div>

            <h3>✨ 新功能</h3>
            <ul>
                <li>🎯 <strong>智能防抖：</strong>采用三层策略的智能字幕翻译，彻底消除逐字字幕的抖动问题</li>
                <li>📝 <strong>句子检测：</strong>自动检测句子结束标点符号，实现即时翻译</li>
                <li>⏱️ <strong>自适应时序：</strong>500ms防抖延迟配合2000ms最大等待时间，实现最佳响应速度</li>
            </ul>

            <h3>🐛 错误修复</h3>
            <ul>
                <li>🔧 <strong>抖动问题：</strong>修复新闻视频逐字字幕导致的翻译抖动</li>
                <li>🗑️ <strong>代码清理：</strong>移除损坏的防抖实现代码（第121-134行）</li>
                <li>💾 <strong>状态管理：</strong>改进字幕跟踪和计时器清理机制</li>
            </ul>

            <h3>⚡ 性能优化</h3>
            <ul>
                <li>📉 <strong>减少API调用：</strong>逐字字幕场景下翻译请求减少70-90%</li>
                <li>💰 <strong>节省成本：</strong>显著降低API使用量和费用</li>
                <li>🎨 <strong>质量提升：</strong>AI获得更完整的上下文，翻译质量更佳</li>
            </ul>
        </div>

        <div class="version">
            <div class="version-header">
                <span class="version-number">v1.3.1</span>
                <span class="version-date">2026年1月10日</span>
            </div>

            <h3>📝 文档更新</h3>
            <ul>
                <li>📄 <strong>扩展描述：</strong>更新扩展描述以反映对多个AI服务商（OpenAI、Gemini、Claude等）的支持，而不仅仅是OpenAI</li>
                <li>🌐 <strong>本地化：</strong>更新中英文描述以准确表示当前功能</li>
            </ul>
        </div>

        <div class="version">
            <div class="version-header">
                <span class="version-number">v1.3.0</span>
                <span class="version-date">2026年1月9日</span>
            </div>

            <h3>✨ 新功能</h3>
            <ul>
                <li>🧪 <strong>API端点测试：</strong>测试连接按钮，在保存前验证API端点配置</li>
                <li>🎯 <strong>AI服务商快速选择：</strong>下拉菜单提供OpenAI、Azure OpenAI、Anthropic (Claude)、Google Gemini和DeepSeek预设
                </li>
                <li>🤖 <strong>服务商专属模型：</strong>根据选择的服务商自动填充适当的模型名称</li>
                <li>🔍 <strong>智能服务商检测：</strong>根据存储的端点URL自动检测并显示当前服务商</li>
            </ul>

            <h3>🔧 技术改进</h3>
            <ul>
                <li>添加了实时连接测试，提供详细错误信息</li>
                <li>改进API密钥处理，支持新输入和已存储的密钥</li>
                <li>添加了服务商专属端点和模型预设</li>
                <li>增强用户体验，测试时提供视觉反馈</li>
            </ul>
        </div>

        <div class="version">
            <div class="version-header">
                <span class="version-number">v1.2.0</span>
                <span class="version-date">2026年1月9日</span>
            </div>

            <h3>✨ 新功能</h3>
            <ul>
                <li>🌍 <strong>国际化（i18n）支持：</strong>扩展界面现在支持中英文双语，根据浏览器语言自动切换</li>
                <li>🔧 <strong>自定义API端点：</strong>支持任意OpenAI兼容的API端点（Azure OpenAI、本地LLM等）</li>
                <li>⚙️ <strong>模型配置：</strong>可自定义用于翻译的AI模型名称</li>
                <li>📱 <strong>高级设置：</strong>弹出窗口新增可折叠的高级设置区域</li>
            </ul>

            <h3>🔧 技术改进</h3>
            <ul>
                <li>添加了<code>_locales/zh_CN/messages.json</code>和<code>_locales/en/messages.json</code>用于国际化</li>
                <li>更新manifest.json使用i18n占位符</li>
                <li>增强了自定义端点的错误处理</li>
                <li>改进了弹出窗口UI，样式更美观，组织更清晰</li>
                <li>高级弹窗设计，采用渐变、阴影和流畅动画</li>
                <li>增强高级设置切换，添加视觉提示和箭头指示器</li>
            </ul>
        </div>

        <div class="version">
            <div class="version-header">
                <span class="version-number">v1.1.2</span>
                <span class="version-date">上一版本</span>
            </div>

            <h3>✨ 功能特性</h3>
            <ul>
                <li>在YouTube视频上显示双语字幕（原文+翻译）</li>
                <li>使用OpenAI API进行高质量翻译</li>
                <li>API密钥本地存储，保护隐私安全</li>
                <li>支持自定义翻译目标语言</li>
                <li>字幕位置可拖动调整</li>
                <li>简洁美观的用户界面</li>
            </ul>

            <h3>🔧 技术实现</h3>
            <ul>
                <li>Manifest V3架构</li>
                <li>Service Worker后台脚本</li>
                <li>Content Script注入YouTube页面</li>
                <li>Chrome Sync Storage存储设置</li>
            </ul>

            <h3>⚠️ 已知问题</h3>
            <ul>
                <li>视频全屏模式时字幕被拖拽到过低位置，退出全屏后字幕有时无法正常显示</li>
                <li><strong>临时解决方法：</strong>切换到全屏模式后可拖动字幕到合适位置，再切回默认视图</li>
            </ul>
        </div>

        <div class="version">
            <div class="version-header">
                <span class="version-number">v1.0.0</span>
                <span class="version-date">初始发布</span>
            </div>

            <h3>🎉 首次发布</h3>
            <ul>
                <li>实现YouTube双语字幕显示功能</li>
                <li>集成OpenAI API翻译服务</li>
                <li>本地存储API密钥和设置</li>
                <li>支持多种目标语言翻译</li>
                <li>发布到Chrome Web Store和Edge Add-ons</li>
            </ul>
        </div>

        <div class="footer">
            <p>&copy; 2026 YouTube双语字幕翻译助手. 采用MIT许可证的开源项目.</p>
        </div>
    </div>
</body>

</html>